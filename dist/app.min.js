!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";var r=function(t){void 0===t&&(t={}),this.name=t.name||"",this.color=t.color||"#000",this.yData=t.yData||[],this.active=t.active||!0,this.chart=t.chart||null};r.prototype.setActive=function(t){this.active=t},r.prototype.setChart=function(t){this.chart=t};var n=function(){this.xData=[],this.series=[],this.seriesIndex={}};n.prototype.addSeries=function(t){t.setChart(this),this.series.push(t),this.seriesIndex[t.name]=t},n.prototype.setXData=function(t){this.xData=t};var e=window.document,l=function(t){return e.createElement(t)},v=function(t,e){return t.appendChild(e)},f=function(t,e){return t.classList.add(e)},i=function(t,e){this.root=t,this.el=l("div"),this.canvas=l("canvas"),this.chart=e};i.prototype.render=function(){var t=l("div");f(t,"cell"),f(t,"canvas"),v(t,this.canvas),v(this.el,t),this.chart.series.forEach(this.renderSeries,this),f(this.el,"chart"),v(this.root,this.el)},i.prototype.renderSeries=function(t){var e=l("div");f(e,"cell");var n,i,s=l("label"),a=l("input");n="type",i="checkbox",a.setAttribute(n,i),a.checked=t.active;var r,o,c,h=l("span");f(h,"icon"),r=h,o="color",c=t.color,r.style[o]=c;var d,p,u=l("span");return f(u,"text"),d=u,p=t.name,d.textContent=p,v(e,s),v(s,a),v(s,h),v(s,u),v(this.el,e),'\n    <div class="cell">\n      <label>\n        <input type="checkbox" checked/>\n        <span class="icon"></span>\n        <span class="text"></span>\n      </label>\n    </div>\n    '};var s=window.requestAnimationFrame,t=function(t){this.element=t,this.charts=[],this.views=[],this.renderers=[]};t.prototype.addChart=function(t){var e=new i(this.element,t);this.charts.push(t),this.views.push(e),e.render()},t.prototype.load=function(){var t=this,e=new window.XMLHttpRequest;e.open("GET","./data/chart_data.json"),e.onload=function(){t.parse(JSON.parse(e.response)),t.render()},e.send()},t.prototype.parse=function(t){var e=this;t.forEach(function(s){var a=new n;s.columns.forEach(function(t){var e=t[0],n=t.slice(1);if("x"===s.types[e])a.setXData(n);else{var i=new r({name:s.names[e],color:s.colors[e],yData:n});a.addSeries(i)}}),e.addChart(a)})},t.prototype.render=function(){},t.prototype.digest=function(t){var e=this;void 0===t&&(t=0),s(function(t){return e.digest(t)})};var a=new t(document.getElementById("root"));a.load(),a.digest()});
